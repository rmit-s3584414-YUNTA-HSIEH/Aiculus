<!--index.html-->

<!--Embed the header.html template at this location-->
{{ template "header.html" .}}
<!--page content-->

    <div  id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
            <div class="col-4 col-xs-6" id="col">
                <a href="/bar/1">
                <div class="card" >
                    <div class="card-body">
                        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel" data-interval="false">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                <canvas id="barChart1-1"></canvas>
                                </div>
                                <div class="carousel-item">
                                <canvas id="barChart1-2"></canvas>
                                </div>
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev" >
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only" >Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next" >
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>                   
                    </div>
                </div>
                </a>
            </div>
            <div class="col-4" id="col">
                <a href="#">
                <div class="card">
                    <div class="card-body">
                        <div id="carouselExampleControls2" class="carousel slide" data-ride="carousel" data-interval="false">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <canvas id="barChart2-1"></canvas>
                                </div>
                                <div class="carousel-item">
                                    <canvas id="barChart2-2"></canvas>
                                </div>
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleControls2" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleControls2" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                </div>
                </a>
            </div>
            <div class="col-4" id="col">
                <a href="#">
                 <div class="card">
                    <div class="card-body">
                        <div id="carouselExampleControls3" class="carousel slide" data-ride="carousel" data-interval="false">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <canvas id="barChart3-1"></canvas>
                                </div>
                                <div class="carousel-item">
                                    <canvas id="barChart3-2"></canvas>
                                </div>
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleControls3" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleControls3" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                </div>    
                </a>
            </div>

        </div>
        <div class="row">
            <div class="col-4" id="col">
                <a href="#">
                <div class="card" width="700px">
                    <div class="card-body">
                        <canvas id="bar-chart-horizontal"></canvas>
                    </div>
                </div>
                </a>
                <a href="#">
                <div class="card">
                    <div class="card-body">
                        <canvas id="bubble-chart"></canvas>
                    </div>
                </div>   
                </a>

            </div>
            <div class="col-8" id="col">
                <div class="card">
                    <div class="card-body">
                        <canvas id="myChart"></canvas>
                        <div class="text-center">
                            <div class="btn-group" role="group" aria-label="time" style="padding:10px;">
                                <button type="button" class="btn btn-outline-dark" id="daily">&nbsp;&nbsp;Daily&nbsp;&nbsp; </button>
                                <button type="button" class="btn btn-outline-dark" id="monthly">Monthly</button>
                                <button type="button" class="btn btn-outline-dark" id="annually">Annually</button> 
                            </div>              
                        </div>
                    </div>
                </div>                  
            </div>           
        </div>
    </div>
    </div>
        
</div>
<!--
<script>
    //collapse bar 
    $("#collapseBut").on("click",function(){
        $("#sidebar").toggleClass("active");
        $("#content").toggleClass("active");
    });     
</script>
-->
<script>
    //get data from go api
    $("#daily").click(function(){
        $.ajax({
            url:'http://localhost:8080/line',
            dataType:'json',
            success: function(data){
                alert("stock:"+data.name+"\nprice:"+data.Price);
            }
        });
    });

</script>

<script>
//line chart
    $.ajax({
            url:'http://localhost:8080/line',
            dataType:'json',
            success: function(data){
var firstData,secondData;

    var ctx = document.getElementById('myChart').getContext('2d');
    firstData = {
        label: "Deposit",
        backgroundColor:'transparent',
        borderColor: 'rgb(255,102,106)',
        pointBackgroundColor:'rgb(255,102,106)',
        data: [Number(data.Price),10020,10040,10066,10081,10095,10110,10133,10150,10177,10198,10218],
    };
    secondData={
        label:'Australian Bonds',
        backgroundColor:'transparent',
        borderColor: 'rgb(128,255,163)',
        pointBackgroundColor:'rgb(128,255,163)',
        data: [10000,10030,10044,10078,10100,10125,10136,10159,10177,10197,10215,10238],
    }
    var lineChart =new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',

        // The data for our dataset
        data: {
            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul","Aug","Sep","Oct","Nov","Dec"],
            datasets: [firstData,secondData]
        },

        // Configuration options go here
        options: {}
    });

            }
        });

    

   
</script>
<script>
//other charts

//use ajax to get other 5 charts' data
$.ajax({
    url: 'http://localhost:8080/OtherGraphs',
    dataType: 'json',
    success: function(data){
        //bar chart
    new Chart(document.getElementById("barChart1-1"), {
        type: 'bar',
        data: {
            labels: [data[0].name, "ca", "ca", "ca", "ca", "ca", "ca", "ca", "ca", "ca","ca"],
            datasets: [{
                labels: "index",
                backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850","#493e8e","#49b6bb","#beb6bb","#beffbb","#beffff","#6d844e"],
                data: [data[0].presentage, data[1].presentage, data[2].presentage, data[3].presentage, data[4].presentage, data[5].presentage, data[6].presentage, data[7].presentage, data[8].presentage, data[9].presentage, data[10].presentage]
            }]
        },
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: 'GICS Sectors'
            }
        }
    });
    new Chart(document.getElementById("barChart1-2"), {
            type: 'bar',
            data: {
                labels: ["ca", "ca", "ca", "ca", "ca", "ca", "ca", "ca", "ca", "ca", "ca"],
                datasets: [{
                    labels: "index",
                    backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850", "#493e8e", "#49b6bb", "#beb6bb", "#beffbb", "#beffff", "#6d844e"],
                    data: [data[0].presentage, data[1].presentage, data[2].presentage, data[3].presentage, data[4].presentage, data[5].presentage, data[6].presentage, data[7].presentage, data[8].presentage, data[9].presentage, data[10].presentage]
                }]
            },
            options: {
                legend: { display: false },
                title: {
                    display: true,
                    text: 'GICS Sectors Active Weight'
                }
            }
        });

//Doughnut chart
        new Chart(document.getElementById("barChart2-1"), {
            type: 'bar',
            data: {
                labels: ["NA", "EURXUK", "GB", "APXJP", "JP"],
                datasets: [
                    {
                        label: "CURR_PORT",
                        fill: true,
                        backgroundColor: "#49b6bb",
                        borderColor: "rgba(179,181,198,1)",
                        pointBorderColor: "#fff",
                        pointBackgroundColor: "rgba(179,181,198,1)",
                        data: [60.1, 9.8, 4.5, 9.4, 15.3]
                    }, {
                        label: "MSWLD",
                        fill: true,
                        backgroundColor: "#beb6bb",
                        borderColor: "rgba(255,99,132,1)",
                        pointBorderColor: "#fff",
                        pointBackgroundColor: "rgba(255,99,132,1)",
                        pointBorderColor: "#fff",
                        data: [64.26, 16.67, 6.31, 4.27, 8.39]
                    }
                ]
            },
            options: {
                legend: { display: false },
                title: {
                    display: true,
                    text: 'Regional Weights'
                }
            }
        });

new Chart(document.getElementById("barChart2-2"), {
        type: 'bar',
        data: {
            //labels: ["North America", "Europe ex UK", "United Kingdom", "Asia Pacific ex Japan", "Japan"],
            labels: ["NA", "EURXUK", "GB", "APXJP", "JP"],
            datasets: [
                {
                    label: "vs_MSWLD",
                    backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850"],
                    data: [-4.13, -6.82, -1.78, 5.09, 6.92]
                }
            ]
        },
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: 'Regional Active Weight'
            }
        }
    });
    
//radar chart
new Chart(document.getElementById("barChart3-1"), {
        type: 'bar',
        data: {
            labels: ["AU", "AT", "BE", "CA", "CN","DK","FI","FR","DE","GB","HK","IE","IL","IT","JP","MX","NL","NZ","NO","PT","SG","KR","ES","SE","CH","US"],
            datasets: [
                {
                    label: "MSWLD",
                    fill: true,
                    backgroundColor: "#493e8e",
                    borderColor: "rgba(179,181,198,1)",
                    pointBorderColor: "#fff",
                    pointBackgroundColor: "rgba(179,181,198,1)",
                    data: [2.5,0.1,0.4,3.5,0.0,0.6,0.4,4.0,3.5,6.3,1.3,0.2,0.2,0.9,8.4,0.0,1.3,0.1,0.3,0.1,0.4,0.0,1.1,0.9,2.9,60.8]
                }, {
                    label: "CURR_PORT",
                    fill: true,
                    backgroundColor: "#beb6bb",
                    borderColor: "rgba(255,99,132,1)",
                    pointBorderColor: "#fff",
                    pointBackgroundColor: "rgba(255,99,132,1)",
                    pointBorderColor: "#fff",
                    data: [0.0, 0.0, 0.0,4.0,6.3, 0.0, 0.0,3.4,3.0,4.5, 0.0, 0.0, 0.0, 0.0,15.3, 0.0,3.4, 0.0, 0.0, 0.0,3.0, 0.0, 0.0, 0.0, 0.0,56.2]
                }
            ]
        },
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: 'Country Weights'
            }
        }
    });

    new Chart(document.getElementById("barChart3-2"), {
            type: 'bar',
            data: {
                labels: ["AU", "AT", "BE", "CA", "CN", "DK", "FI", "FR", "DE", "GB", "HK", "IE", "IL", "IT", "JP", "MX", "NL", "NZ", "NO", "PT", "SG", "KR", "ES", "SE", "CH", "US"],
                datasets: [
                    {
                        label: "vs_MSWLD",
                        backgroundColor: ["#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd", "#3e95cd"],
                        data: [-2.5,-0.1,-0.4,0.5,6.3,-0.6,-0.4,-0.5,-0.5,-1.8,-1.3,-0.2,-0.2,-0.9,6.9,0.0,2.1,-0.1,-0.3,-0.1,2.6,0.0,-1.1,-0.9,-2.9,-4.6]
                    }
                ]
            },
            options: {
                legend: { display: false },
                title: {
                    display: true,
                    text: 'Country Active Weights'
                }
            }
        });

//horizontal-bar chart
new Chart(document.getElementById("bar-chart-horizontal"), {
        type: 'horizontalBar',
        data: {
            labels: ["Africa", "Asia", "Europe", "Latin America", "North America"],
            datasets: [
                {
                    label: "Population (millions)",
                    backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850"],
                    data: [2478, 5267, 734, 784, 433]
                }
            ]
        },
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: 'Predicted world population (millions) in 2050'
            }
        }
    });

//bubble chart
    new Chart(document.getElementById("bubble-chart"), {
        type: 'bubble',
        data: {
            labels: "Africa",
            datasets: [
                {
                    label: ["China"],
                    backgroundColor: "rgba(255,221,50,0.2)",
                    borderColor: "rgba(255,221,50,1)",
                    data: [{
                        x: 21269017,
                        y: 5.245,
                        r: 15
                    }]
                }, {
                    label: ["Denmark"],
                    backgroundColor: "rgba(60,186,159,0.2)",
                    borderColor: "rgba(60,186,159,1)",
                    data: [{
                        x: 258702,
                        y: 7.526,
                        r: 10
                    }]
                }, {
                    label: ["Germany"],
                    backgroundColor: "rgba(0,0,0,0.2)",
                    borderColor: "#000",
                    data: [{
                        x: 3979083,
                        y: 6.994,
                        r: 15
                    }]
                }, {
                    label: ["Japan"],
                    backgroundColor: "rgba(193,46,12,0.2)",
                    borderColor: "rgba(193,46,12,1)",
                    data: [{
                        x: 4931877,
                        y: 5.921,
                        r: 15
                    }]
                }
            ]
        },
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: 'happiness,GDP&population'
            }, scales: {
                yAxes: [{
                    scaleLabel: {
                        display: true,
                        labelString: "Happiness"
                    }
                }],
                xAxes: [{
                    scaleLabel: {
                        display: true,
                        labelString: "GDP (PPP)"
                    }
                }]
            }
        }
    });



    }
});
</script>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em"
    crossorigin="anonymous"></script>

<!--Embed the footer.html template at this location-->
{{ template "footer.html" .}}
